"use client";

import { useGameStore } from "@/lib/store";

const locations = [
  { id: 'forest', name: '??? ??????', danger: '??????', hint: '??????? ??? ?????????? ????????.' },
  { id: 'training', name: '????????????? ????????', danger: '???????', hint: '?????????? ????.' },
  { id: 'arena', name: '????? ???????', danger: '???????', hint: '??????? ?????????? ? ???????.' },
];

export function MapView() {
  const goBattle = useGameStore((s) => s.startEncounter);
  const meditate = useGameStore((s) => s.meditate);
  const shop = useGameStore((s) => s.buyRamen);

  return (
    <div className="space-y-4">
      <div className="card">
        <div className="h2 mb-2">?????</div>
        <div className="grid gap-3 sm:grid-cols-3">
          {locations.map((loc) => (
            <div key={loc.id} className="rounded-lg border border-white/10 bg-white/5 p-3">
              <div className="font-medium">{loc.name}</div>
              <div className="small mb-3">?????????: {loc.danger}. {loc.hint}</div>
              <button className="button w-full" onClick={() => goBattle(loc.id)}>???????????</button>
            </div>
          ))}
        </div>
      </div>
      <div className="grid gap-4 sm:grid-cols-2">
        <div className="card space-y-2">
          <div className="h2">?????????</div>
          <div className="small">???????????? ????? ????? ? ????????.</div>
          <button className="button" onClick={meditate}>????????????</button>
        </div>
        <div className="card space-y-2">
          <div className="h2">????? ???????</div>
          <div className="small">?????? ????? (????? 30 HP) ? 20 ??</div>
          <button className="button" onClick={() => shop()}>?????? ?????</button>
        </div>
      </div>
    </div>
  );
}
